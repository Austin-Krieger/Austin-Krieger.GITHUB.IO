<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Binding of Isaac</title>
    <link rel="stylesheet" type="text/css" href="../../styles/Styles.css">
    <link rel="stylesheet" type="text/css" href="../../styles/SideNav.css">
    <link rel="stylesheet" type="text/css" href="../../styles/modal.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="../../scripts/JSFunctions.js"></script>
    <link rel="icon" href="../../images/ThirstyPenguin(Logo).ico">
</head>
<body>
<div class="navbar">
    <span class="fa fa-bars" onclick="openNav()"></span>
    <a href="index.html">Home</a>
    <a href="fixinstapreview.html">Next</a>
</div>
<div id="Sidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="../../index.html">Home</a>
    <a href="../../Java/index.html">Java</a>
    <a href="../../Roblox/index.html">Roblox</a>
    <a href="../../Unity/index.html">Unity</a>
    <a href="../../Perlenspiel/index.html">Perlenspiel</a>
    <a href="../../Web/index.html">Web</a>
    <a href="../index.html">Modding</a>
</div>
<div id="closeSideNav">
<h1>Room Editing</h1>
<div class="containButtons">
<button class="collapsible" id="autoClickBtn">Room Editing</button>
<div class="content">
    <!-- The Modal -->
    <div id="myModal" class="modal">
        <!-- The Close Button -->
        <span class="close">&times;</span>
        <!-- Modal Content (The Image) -->
        <img class="modal-content" id="img01">
        <!-- Modal Caption (Image Text) -->
        <div id="caption"></div>
    </div>
    <h2>Editing Rooms in Binding of Isaac</h2>
    <p>We will be adding items to the default room as well as the Greed rooms. <br><b>*New</b> steps and software changes due to the release of the <b>Repentance DLC</b> have been added below. There is still some good information in this first section, so remember to come back here if you get lost.</p>
    <ol>
        <li>Here are the folders you will need to open for this tutorial, starting with our <b>root</b> folder <b>D:\Steam\steamapps\common\The Binding of Isaac Rebirth\</b></li><br>
        <p class="code-sl">
            <b>tools\ResourceExtractor</b>
        </p>
        <p class="code-sl">
            <b>tools\RoomEditor</b>
        </p>
        <p class="code-sl">
            <b>resources\rooms</b>
        </p>
        <li>You can get to your <b>root</b> folder by right-clicking the game title in your Steam library and going to <b>Properties... > LOCAL FILES > Browse...</b></li><br>
        <div class="imageColumn">
            <img src="../../images/Modding/Binding%20of%20Isaac/05.png" alt="... Image" onclick="displayModal(this)">
        </div><br>
        <li>Now open the <b>tools/ResourceExtractor</b> folder and run <b>ResourceExtractor.exe</b> (a cmd window will appear and extract game files for you).</li><br>
        <div class="imageColumn">
            <img src="../../images/Modding/Binding%20of%20Isaac/06.png" alt="... Image" onclick="displayModal(this)">
        </div><br>
        <li>Next let's make sure the program is looking for the game resources in the correct folder.</li>
        <li>Go to the <b>tools/RoomEditor</b> folder and double click on <b>settings.ini</b> to open the file.</li>
        <li>Use the path for your root folder and add <b>/resources</b> making sure all of the slashes are facing forward.</li><br>
        <div class="imageColumn">
            <img src="../../images/Modding/Binding%20of%20Isaac/03.png" alt="... Image" onclick="displayModal(this)">
        </div><br>
        <li>Now we can open the Room Editor by going to <b>tools/RoomEditor</b> and double clicking <b>RoomEdirot.exe</b></li>
        <li>An error will likely pop up for you at this point regarding the map files, but we will fix that right now.</li>
        <li>Click on <b>File > Import Binary...</b> and a folder will open to your <b>resources/rooms</b> folder. You can just hit <b>Select Folder</b> here and the maps will be imported.</li><br>
        <div class="imageColumn">
            <img src="../../images/Modding/Binding%20of%20Isaac/07.png" alt="... Image" onclick="displayModal(this)">
        </div><br>
        <li>Now we can start editing rooms within the game. Click on <b>DEFAULT_2 Start Room</b> and select a gray square on the map. This will edit the map our player spawns into whenever starting a new game or reaching a new floor.</li>
        <li>Choose from the list of items at the bottom of the room editor and move on to the next square. The item I chose is a randomized in game item stand.</li><br>
        <div class="imageColumn">
            <img src="../../images/Modding/Binding%20of%20Isaac/08.png" alt="... Image" onclick="displayModal(this)">
        </div><br>
        <li>For the changes to take effect we need to export binary to a new mod folder.</li>
        <li>Start by going to <b>File > Export Binary...</b> and navigate to your <b>Binding of Isaac Afterbirth+ Mods</b> folder. For me this was located here: <b>C:\Users\*****\Documents\My Games\Binding of Isaac Afterbirth+ Mods</b></li>
        <li>Create a new folder for this mod, I suggest: <b>Spawn_Room_Items</b> but you can name it whatever you want. Double click on the new mod folder and create another folder named <b>resources</b>, within <b>resources</b> create another folder named <b>rooms</b>, and we can finally select this folder and save our new room files there.</li>
        <li>For this mod you will only need the <b>00.special rooms.stb</b> file, the other room files have not been touched so they are not necessary for our mod.</li>
        <li>We can now start up the game and when you check the mods menu you will be able to enable or disable our new mod.</li>
        <li>Initially you may need to start a new game twice for the question marks to go away on our randomized items.</li>
        <li>To modify the <b>Greed</b> and <b>Ultra Greed</b> maps, click on <b>Special Rooms (Greed)</b> and <b>SHOP_0</b> or <b>TREASURE_0</b> to get started. Add whatever items you want and export your rooms like before. You will need to keep <b>18.greed special.stb</b> and <b>25.ultra greed</b> for this mod.</li>
        <li>Note: You will want to delete the other variations of <b>TREASURE_</b> and <b>SHOP_</b> to guarantee you will get the version of the map we just edited.</li>
        <div class="imageRow">
        <div class="imageColumn">
            <img src="../../images/Modding/Binding%20of%20Isaac/09.png" alt="... Image" onclick="displayModal(this)">
        </div>
        </div>
        <div class="imageColumn">
            <img src="../../images/Modding/Binding%20of%20Isaac/10.png" alt="... Image" onclick="displayModal(this)">
        </div>
    </ol>
    <h2>Repentance DLC Notes</h2>
    <p>Since the release of the <b>Repentance DLC</b>, my original map mods have broken. Using the default map editor is no longer my go to. When uploading mods, don't edit the <b>.xml</b> file before hand to avoid a few errors. Make sure thumbnail image is below 1 <b>MB</b> in size, dimensions are less important, but a more square image is preferrable.</p>
    <ol>
        <li>Let's start by downloading the new map editor. <a href="https://github.com/Basement-Renovator/basement-renovator">Basement Renovator</a></li>
        <li>Find the releases section and download the latest release.</li>
        <li>Once the software is installed and you launch the executable, you should see something like this:</li><br>
        <div class="imageColumn">
            <img src="../../images/Modding/Binding%20of%20Isaac/14.png" alt="... Image" onclick="displayModal(this)">
        </div><br>
        <li>Next you will go to <b>File > Import (STB)...</b> find the <b>The Binding fo Isaac Rebirth/resources-dlc3/rooms</b> folder. The normal <b>resources</b> folder still exists, but since the <b>Repentance DLC</b> was released you will need to use <b>resources-dlc3</b> for your maps. If you want to edit the start room like before then find the first <b>00.special rooms.stb</b> file and click <b>Open</b>.</li>
        <li>Find room <b>2 - Start Room</b> and start making your changes. You can select from the panel on the left and right click and drag to paint the items onto the grid. You can select and delete items and maps as well.</li><br>
        <div class="imageColumn">
            <img src="../../images/Modding/Binding%20of%20Isaac/15.png" alt="... Image" onclick="displayModal(this)">
        </div><br>
        <li>Note that the greed rooms are now in their own folder (greed) and renamed to: <b>00.special rooms.stb</b><b></b></li><br>
        <div class="imageColumn">
            <img src="../../images/Modding/Binding%20of%20Isaac/16.png" alt="... Image" onclick="displayModal(this)">
        </div><br>
        <li>Delete the other copies like before or make several different versions of the room if you like.</li>
        <li>Same process for the greed treasure room, just scroll down a tiny bit more in the Rooms list.</li>
        <li>Next we can export our changes. Click <b>file > Save As...</b> keeping the name: <b>00.special rooms</b> and saving it to your new mod folder. Remember to recreate the original folder structure of where you found the <b>.stb</b> file: <b>New Mod/resources-dlc3/rooms</b></li>
        <li>Looking back in your folder you will have a <b>.xml</b> file and a <b>.stb</b> file with the name: <b>00.special rooms</b>. You can delete the <b>.xml</b> file.</li>
        <li>Start up the game with your new mod and create a new game (May need to repeat this step once) and the items you added should show up properly. Your metadata file for the mod will also be created and you can move on to uploading the mod. Just remember not to modify the metadata file directly and choose a preview image below 1 <b>MB</b> in size to have a smoother time uploading than I had.</li>
    </ol>
</div>
</div>
</div>
<script type="text/javascript" src="../../scripts/SideNav.js"></script>
<script type="text/javascript" src="../../scripts/collapsible.js"></script>
<script type="text/javascript" src="../../scripts/modal.js"></script>
</body>
</html>